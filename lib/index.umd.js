!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).cdeebee=n()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function e(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),o=0;for(n=0;n<t;n++)for(var i=arguments[n],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t=function(e,n){return e.typeReplace[n]||n},r=function(e){var n=e.description;return n?"// "+n:"// NO DESCRIPTION"},o=function(o){var i=o.regexpMethods,a=o.modificators,c=function(e,n){if(!i.excludeDTO.test(e)&&n)return"export interface "+function(e){if(i.nameInterface.test(e)){var n=e.match(i.nameInterface);return n?n[1]:n}return e.split("[")[0]}(e)+" {"+n+"}"};return function(o){var u=o.definitions,f=[],p=[],s=Object.keys(u).map((function(e){var o=u[e].properties,s=Object.keys(o).map((function(e){var c,u=o[e],s=(u.pagination,function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(u,["pagination"]));return"enum"in s?(p.includes(e)||f.push((c=s,"export enum Enum"+n(e)+" {\n  "+c.enum.map((function(e){return e+" = '"+e+"', "+r(c)})).join("\n  ")+",\n}")),p.push(e),function(e){return e+": Enum"+n(e)+";"}(e)):function(e,n){var o,c=function(t){return"\n  "+e+": "+(a.interfaceReplace[t]||t)+"; "+r(n)+"\n"};return"array"===n.type?n.items.$ref?c(o=n.items.$ref.match(i.matchInterfaceName)[1]+"[]"):c(t(a,n.items.type)+"[]"):c("$ref"in n?(o=n.$ref.match(i.matchInterfaceName))?o[1]:o:t(a,n.type))}(e,s)})).join("");return c(e,s)}));return e(f,s).join("\n").replace(i.replaceSpace,"")}},i=require("fs"),a=require("git-diff"),c=require("http");return function(n){var u=n.API,f=n.regexpMethods,p=n.modificators,s=n.filePath;return c.get(u,(function(n){var c=n.statusCode,u=function(e){return e&&console.log(e)},m=function(e){e&&i.readFile(s,"utf8",(function(n,t){t&&console.log(a(t,e,{color:!0,wordDiff:!0,noHeaders:!0})||"no changes"),i.writeFile(s,e,u)}))};if(200===c){n.setEncoding("utf8");var l="";n.on("data",(function(e){l+=e})),n.on("end",(function(){try{var n=JSON.parse(l);if(n.openapi.startsWith("3")){var i=function(n){var o=n.regexpMethods,i=n.modificators,a=function(e){return e.join("\n").replace(o.replaceSpace,"")},c=function(e,n){return"export enum "+e+" {\n  "+n.enum.map((function(e){return e+' = "'+e+'", '+r(n)})).join("\n  ")+"\n}"},u=function(e,n){for(var o=[],c=[],u=function(e){return e.replace(/^\#\/components\/schemas\//gm,"")},f=function(e){for(var n=t(i,e.type),r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];if(e[a]instanceof Object){var c=e[a];c.hasOwnProperty("$ref")?n=u(c.$ref):c.hasOwnProperty("type")&&(n=t(i,c.type))}}return n},p=function(e){var o=n.properties[e];c.push(e+": "+(o.$ref?u(o.$ref):"array"===o.type?f(o)+"[]":"object"===o.type?f(o):t(i,o.type))+"; "+r(o))},s=0,m=Object.keys(n.properties);s<m.length;s++){p(m[s])}return o.push("export interface "+e+" {\n  "+c.join("\n ")+"\n}"),a(o)};return function(n){for(var t=n.components.schemas,r=[],i=[],f=0,p=Object.keys(t);f<p.length;f++){var s=p[f];s.startsWith("Enum")||t[s].hasOwnProperty("enum")?r.push(c(s,t[s])):o.excludeDTO.test(s)||i.push(u(s,t[s]))}return a(e(r,i))}}({regexpMethods:f,modificators:p})(n);return m(i)}if(n.openapi.startsWith("2")){var a=o({regexpMethods:f,modificators:p})(n);return m(a)}}catch(e){console.error(e.message)}}))}}))}}));
//# sourceMappingURL=index.umd.js.map
